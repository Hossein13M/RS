<div class="container fuse-card">
    <div class="header" fxLayout="row wrap" fxLayoutAlign="space-between center" dir="rtl">

        <h3>
            گزارش روزانه‌ی سرمایه‌گزاری‌ها
        </h3>

        <form [formGroup]="searchFormGroup" dir="rtl" *ngIf="ownDatePicker">
            <mat-form-field appearance="fill">

                <mat-label>
                    تاریخ
                </mat-label>

                <input matInput
                       formControlName="date"
                       [max]="today"
                       [matDatepicker]="picker">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
        </form>

    </div>

    <mat-divider></mat-divider>

    <div class="table-container">
        <!--  Table  -->
        <div class="table" *ngIf="state === stateType.PRESENT">
            <app-table [data]="data"
                       [columns]="columns"
                       (searchCall)="search($event)">
            </app-table>
        </div>


        <!--    Paginator    -->
        <app-paginator *ngIf="state === stateType.PRESENT"
                       [data]="dirs.pageEvent"
                       (page)="pageHandler($event)"
                       [pageSizeOptions]="[5, 10,20, 50]"></app-paginator>

        <!--   Getting Data Failed  -->
        <div *ngIf="state === stateType.FAILED" fxLayout="row wrap" fxLayoutAlign="center center" class="full">
            دریافت داده ناموفق بود

            <button mat-button
                    class="againBtn"
                    (click)="get()">
                دریافت دوباره
            </button>
        </div>

        <!--   Help Quotes  -->
        <p *ngIf="state === stateType.PRESENT && data && data.length==0" class="text-center">
            داده‌ای برای نمایش وجود ندارد
        </p>

        <!--     Loading       -->
        <div *ngIf="state=== stateType.LOADING" fxLayout="row wrap" fxLayoutAlign="center center" class="full">
            <mat-spinner></mat-spinner>
        </div>
    </div>
</div>